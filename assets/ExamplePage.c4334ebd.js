import{_ as e}from"./ContentWrap.81130664.js";import{_ as a}from"./Search.19fb576e.js";import{d as t,u as o,s as l,aN as i,r as s,o as r,k as m,w as p,a as d,l as n,g as c,e as f,y as u,t as b}from"./index.c89981a6.js";import{E as g}from"./el-button.9191f867.js";import{E as j}from"./el-tag.b693244d.js";import{_ as x}from"./Table.vue_vue_type_script_lang.9e4a700a.js";import{g as h,d as y}from"./index.39d8d6da.js";import{u as v}from"./useTable.5d295504.js";import{u as D}from"./useEmitt.e2c937fb.js";import{u as _}from"./useCrudSchemas.98d2cc93.js";import"./el-card.377296af.js";import"./el-popper.bf812a74.js";import"./index.ae55fe18.js";import"./Form.6c4fc45b.js";import"./el-col.f8fe7e78.js";import"./el-input.196c2db0.js";import"./event.fa25aaef.js";import"./index.68586847.js";import"./tsxHelper.2791fffb.js";import"./index.fc556847.js";import"./scroll.26923679.js";import"./debounce.959d57d3.js";import"./validator.94a90169.js";import"./el-input-number.a0d9ed48.js";import"./el-switch.89faef36.js";import"./el-divider.99cce6ba.js";import"./InputPassword.d8303976.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Editor.f7c8f5d8.js";import"./aria.1f702b5f.js";import"./browser.f8fe7a4c.js";import"./useForm.d93ff7d4.js";import"./el-message-box.824cc255.js";import"./el-overlay.5172f9ee.js";import"./vnode.e360c4a1.js";import"./tree.9e4d3f05.js";const w={class:"mb-10px"},S=t({name:"ExamplePage",setup(t){const{push:S}=o(),{register:C,tableObject:k,methods:P}=v({getListApi:h,delListApi:y,response:{list:"list",total:"total"}}),{getList:L,setSearchParams:R}=P;L(),D({name:"getList",callback:e=>{"add"===e&&(k.currentPage=1),L()}});const{t:z}=n(),E=l([{field:"index",label:z("tableDemo.index"),type:"index"},{field:"title",label:z("tableDemo.title"),search:{show:!0}},{field:"author",label:z("tableDemo.author")},{field:"display_time",label:z("tableDemo.displayTime")},{field:"importance",label:z("tableDemo.importance"),formatter:(e,a,t)=>i(j,{type:1===t?"success":2===t?"warning":"danger"},(()=>z(1===t?"tableDemo.important":2===t?"tableDemo.good":"tableDemo.commonly")))},{field:"pageviews",label:z("tableDemo.pageviews")},{field:"content",label:z("exampleDemo.content"),table:{show:!1}},{field:"action",width:"260px",label:z("tableDemo.action")}]),{allSchemas:T}=_(E),A=()=>{S("/example/example-add")},F=s(!1),U=async(e,a)=>{var t;k.currentRow=e;const{delList:o,getSelections:l}=P,i=await l();F.value=!0,await o(a?i.map((e=>e.id)):[null==(t=k.currentRow)?void 0:t.id],a).finally((()=>{F.value=!1}))},$=(e,a)=>{S(`/example/example-${a}?id=${e.id}`)};return(t,o)=>(r(),m(d(e),null,{default:p((()=>[c(d(a),{schema:d(T).searchSchema,onSearch:d(R),onReset:d(R)},null,8,["schema","onSearch","onReset"]),f("div",w,[c(d(g),{type:"primary",onClick:A},{default:p((()=>[u(b(d(z)("exampleDemo.add")),1)])),_:1}),c(d(g),{loading:F.value,type:"danger",onClick:o[0]||(o[0]=e=>U(null,!0))},{default:p((()=>[u(b(d(z)("exampleDemo.del")),1)])),_:1},8,["loading"])]),c(d(x),{pageSize:d(k).pageSize,"onUpdate:pageSize":o[1]||(o[1]=e=>d(k).pageSize=e),currentPage:d(k).currentPage,"onUpdate:currentPage":o[2]||(o[2]=e=>d(k).currentPage=e),columns:d(T).tableColumns,data:d(k).tableList,loading:d(k).loading,pagination:{total:d(k).total},onRegister:d(C)},{action:p((({row:e})=>[c(d(g),{type:"primary",onClick:a=>$(e,"edit")},{default:p((()=>[u(b(d(z)("exampleDemo.edit")),1)])),_:2},1032,["onClick"]),c(d(g),{type:"success",onClick:a=>$(e,"detail")},{default:p((()=>[u(b(d(z)("exampleDemo.detail")),1)])),_:2},1032,["onClick"]),c(d(g),{type:"danger",onClick:a=>U(e,!1)},{default:p((()=>[u(b(d(z)("exampleDemo.del")),1)])),_:2},1032,["onClick"])])),_:1},8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}))}});export{S as default};
