import{C as e,a_ as t,D as o,S as n,at as s,av as a,aj as d,b0 as u,v as l,b$ as c,c7 as i,cc as r,c8 as m,ak as p,E as v,F as f,d as y,R as g,g as h,z as b,aN as M}from"./index.976d50ce.js";import{g as E}from"./scroll.674261f8.js";import{P as x}from"./vnode.53e58796.js";const k=(s,a,d)=>{let u={offsetX:0,offsetY:0};const l=e=>{const t=e.clientX,o=e.clientY,{offsetX:a,offsetY:d}=u,l=s.value.getBoundingClientRect(),c=l.left,i=l.top,r=l.width,m=l.height,p=document.documentElement.clientWidth,v=document.documentElement.clientHeight,f=-c+a,y=-i+d,g=p-c-r+a,h=v-i-m+d,b=e=>{const l=Math.min(Math.max(a+e.clientX-t,f),g),c=Math.min(Math.max(d+e.clientY-o,y),h);u={offsetX:l,offsetY:c},s.value.style.transform=`translate(${n(l)}, ${n(c)})`},M=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",M)},c=()=>{a.value&&s.value&&a.value.removeEventListener("mousedown",l)};e((()=>{t((()=>{d.value?a.value&&s.value&&a.value.addEventListener("mousedown",l):c()}))})),o((()=>{c()}))},C=e=>{if(s(e)||a("[useLockscreen]","You need to pass a ref param to this function"),!d||u(document.body,"el-popup-parent--hidden"))return;let t=0,o=!1,n="0",p=0;const v=()=>{m(document.body,"el-popup-parent--hidden"),o&&(document.body.style.paddingRight=n)};l(e,(e=>{if(!e)return void v();o=!u(document.body,"el-popup-parent--hidden"),o&&(n=document.body.style.paddingRight,p=Number.parseInt(c(document.body,"paddingRight"),10)),t=E();const s=document.documentElement.clientHeight<document.body.scrollHeight,a=c(document.body,"overflowY");t>0&&(s||"scroll"===a)&&o&&(document.body.style.paddingRight=`${p+t}px`),i(document.body,"el-popup-parent--hidden")})),r((()=>v()))},w=e=>{if(!e)return{onClick:p,onMousedown:p,onMouseup:p};let t=!1,o=!1;return{onClick:n=>{t&&o&&e(n),t=o=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{o=e.target===e.currentTarget}}};const L=y({name:"ElOverlay",props:v({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:f([String,Array,Object])},zIndex:{type:f([String,Number])}}),emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:t,emit:o}){const n=g("overlay"),{onClick:s,onMousedown:a,onMouseup:d}=w(e.customMaskEvent?void 0:e=>{o("click",e)});return()=>e.mask?h("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:a,onMouseup:d},[b(t,"default")],x.STYLE|x.CLASS|x.PROPS,["onClick","onMouseup","onMousedown"]):M("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[b(t,"default")])}});export{L as E,C as a,w as b,k as u};
